<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
        <title>Ditto {% block title %}{% endblock %}</title>
        <style>
        </style>
    </head>

    <body style="background:#18181F;">
      <div style="width:1300px; background:#242531; margin:2rem auto;">
         <div style="display: flex; flex-direction: row; margin-left:42%;">
            <div style="color:white; padding:0.25rem; font-size:1.2rem">
               11:40:56 쓰러짐 발생
            </div>
               <img src="/static/imgs/alert.png" width="28" height="28">
         </div>
         <div style="width: 100%; height: 3px; background:#18181F;"></div>

         <div>
            <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
            <div><video autoplay muted id="video"></video></div>
            <script>
               if(Hls.isSupported()) {
                  var video = document.getElementById('video');
                  var hls = new Hls();
                  hls.loadSource('https://540f41fc71d9.ap-northeast-2.playback.live-video.net/api/video/v1/ap-northeast-2.392988993234.channel.eknAgsglpDNs.m3u8'); // 동영상경로
                  hls.attachMedia(video);
                  hls.on(Hls.Events.MANIFEST_PARSED,function() {
                        video.play();
                  });
               }
               // hls.js is not supported on platforms that do not have Media Source Extensions (MSE) enabled.
               // When the browser has built-in HLS support (check using `canPlayType`), we can provide an HLS manifest (i.e. .m3u8 URL) directly to the video element throught the `src` property.
               // This is using the built-in support of the plain video element, without using hls.js.
               else if (video.canPlayType('application/vnd.apple.mpegurl')) {
                  video.src = 'https://540f41fc71d9.ap-northeast-2.playback.live-video.net/api/video/v1/ap-northeast-2.392988993234.channel.eknAgsglpDNs.m3u8'; // 동영상경로
                  video.addEventListener('canplay',function() {
                        video.play();
                  });
               }
            </script>
         </div>

         <div style="width: 100%; height: 3px; background:#18181F;"></div>
         
         <div style="display: flex; flex-direction: row; margin-left:42%;">
            <div style="color:white; padding:0.25rem; font-size:1.2rem">
               사고 발생 위치
            </div>
               <img src="/static/imgs/map.png" width="27" height="27">
         </div>


         <div style="width: 100%; height: 3px; background:#18181F;"></div>
         
         <div style="display: flex; flex-direction: row; gap:1%; ">
            <div id="map" style="width: 80%; height: 44vh; margin:0.5rem auto;"></div>
            <script type="text/javascript" src="//dapi.kakao.com/v2/maps/sdk.js?appkey=e00ee7b35d9447fc1b074a96fd8ee6d0"></script>
            <script>
            var mapContainer = document.getElementById('map'), // 지도를 표시할 div 
               mapOption = { 
                  center: new kakao.maps.LatLng(37.61090035882, 126.997259182), // 지도의 중심좌표
                  level: 3 // 지도의 확대 레벨
               };

            // 지도를 표시할 div와  지도 옵션으로  지도를 생성합니다
            var map = new kakao.maps.Map(mapContainer, mapOption); 
            map.setZoomable(false);
            map.setDraggable(false);   
            </script>


         </div>
      </div>
</body>
</html> 